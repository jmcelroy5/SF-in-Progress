{
  "name": "hoodie-plugin-global-share",
  "version": "3.0.0",
  "main": "worker.js",
  "description": "Hoodie.js Global Share Plugin",
  "scripts": {
    "test": "grunt test"
  },
  "author": "",
  "dependencies": {
    "async": "0.2.10",
    "lodash": "2.4.1",
    "hoodie-server": "0.9.19",
    "hoodie": "0.6.5"
  },
  "devDependencies": {
    "grunt": "0.4.1",
    "expect.js": "0.2.0",
    "grunt-simple-mocha": "0.4.0",
    "grunt-contrib-jshint": "0.8.0",
    "grunt-contrib-watch": "0.5.1",
    "grunt-shell": "0.6.4",
    "sinon": "1.8.2",
    "request": "2.34.0",
    "shelljs": "0.2.6",
    "mocha": "1.17.1",
    "grunt-hoodie": "^0.3.0",
    "grunt-continue": "0.0.1",
    "grunt-env": "^0.4.1",
    "grunt-mocha-browser": "0.0.4",
    "chai": "^1.9.1",
    "hoodie-plugin-users": "^0.1.0"
  },
  "hoodie": {
    "plugins": [
      "hoodie-plugin-users"
    ]
  },
  "readme": "[![Build Status](https://travis-ci.org/hoodiehq/hoodie-plugin-global-share.png?branch=master)](https://travis-ci.org/hoodiehq/hoodie-plugin-global-share)\n\n# Hoodie Global Share Plugin\n\n> Make selected objects publically accessible via hoodie.global store methods.\n\n## Installation\n\n```bash\nhoodie install global-share\n```\n\n## Usage\n\nThe Global Share Plugin extends all promises returned by `hoodie.store` methods\nwith two additional functions: `publish` and `unpublish`.\n\n```js\n// publish all my todos\nhoodie.store.findAll('task').publish()\n\n// unpublish specific note\nhoodie.store.find('note', 'abc1234').unpublish()\n```\n\nAll objects marked as public are accessible (read-only) via the \n`hoodie.global` API\n\n```js\n// list all public tasks\nhoodie.global.findAll('task').then(showAllPublicTasks)\n\n// update list of tasks on change\nhoodie.global.on('task:change', handleTaskChange)\n```\n\n## Full Frontend API\n\nadd / remove own objects from the public global store\n\n```js\n// publish / unpublish can be called on all promises\n// return by any hoodie.store method.\npromise = hoodie.store.add(type, attributes).publish()\npromise = hoodie.store.find(type, id).publish()\npromise = hoodie.store.findOrAdd(type, id, attributes).publish()\npromise = hoodie.store.findAll(/* type */).publish()\npromise = hoodie.store.update(type, id, changedAttributes).publish()\npromise = hoodie.store.updateAll(/* type, */ changedAttributes).publish()\npromise = hoodie.store.remove(type, id).publish()\npromise = hoodie.store.removeAll(/* type */).publish()\n\n// it works the same on scoped stores\npromise = hoodie.store(type).find(id).unpublish()\npromise = hoodie.store(type, id).update(changedAttributes).publish()\n\n// publish / unpublish return own promises that only resolve\n// if the objects were published successfully on the server\npromise.then(handlePublishSuccess, handleStoreOrPublishError);\n```\n\naccess objects from / listen to changes in the public global store\n\n```js\n// hoodie.global has all read-only methods from hoodie.store,\n// with the same footprint\npromise = hoodie.global.find(type, id)\npromise = hoodie.global.findAll(/* type */)\n\n// you can listen on changes as well\nhoodie.global.on('add', handleNewObject)\nhoodie.global.on('task:change', handleChangedTask)\nhoodie.global.on('task:123:remove', handleTask123Removed)\n```\n\n## How it works internally\n\nThe [plugin's worker](https://github.com/hoodiehq/hoodie-plugin-global-share/blob/master/worker.js)\ncreates a new database `hoodie-plugin-global-share` that all objects from all\nuser databases that are marked as public are replicated to. \n\nCalling `.publish()` on a store method in the frontend adds a `$public: true`\nflag to the respecitve objects, that is used by the filtered replications from\nuser databases â†’ `hoodie-plugin-global-share` database.\n\nCalling `.unpublish()` uses the `hoodie.task` API internally to start `globalshareunpublish`\ntask with object types/IDs to be unpublished.  The task gets picked up by the worker\nwhich then removes all objects with the passed types/IDs from the `hoodie-plugin-global-share` \ndatabase.\n\n\n## Contributing\n\nWe love contributors <3 If you need any help getting started, please\ndon't hesitate to get in touch at any time.\n\nFor Questions/Bug reports specific to the Global Share Plugin:  \nhttps://github.com/hoodiehq/hoodie-plugin-global-share/issues/new\n\nFor more generic questions to Hoodie Architecture etc.\nhttps://github.com/hoodiehq/discussion/issues/new\n\nIf you want to send pull requests, please make sure to add according tests.\nRun tests with\n\n```bash\ngrunt\n```\n\n## License & Copyright\n\nCopyright 2012-2014 https://github.com/hoodiehq/ and other contributors  \nLicensed under the Apache License 2.0.\n",
  "readmeFilename": "README.md",
  "_id": "hoodie-plugin-global-share@3.0.0",
  "dist": {
    "shasum": "0b6526e7606aed4b7782b89aa04f4c35d7716e07"
  },
  "_from": "hoodie-plugin-global-share@3.0.0",
  "_resolved": "https://registry.npmjs.org/hoodie-plugin-global-share/-/hoodie-plugin-global-share-3.0.0.tgz"
}
